{"version":3,"sources":["../source/index.js"],"names":["WorkerClient","Configuration","Log","Require","_createRequire","import","meta","url","main","worker","writeTo","resolve","root","debug","ping","module","getIt","end","error","console"],"mappings":"yDAAA,OAAO,sEAAP;AACA,SAASA,YAAT,QAA6B,iCAA7B;;AAEA,SAASC,aAAT,QAA8B,4BAA9B;AACA,SAASC,GAAT,QAAoB,kBAApB;;AAEA,MAAMC,OAAO,GANbC,cAAc,CAACC,MAAM,CAACC,IAAP,CAAYC,GAAb,CAMd;;AAEA,eAAeC,IAAf,GAAsB;;AAEpB,MAAI;;AAEF,QAAIC,MAAM,GAAG,IAAIT,YAAJ,EAAb;;AAEAS,IAAAA,MAAM,CAACC,OAAP,CAAe,wBAAf;;AAEA,QAAI;;AAEF,YAAMD,MAAM,CAACJ,MAAP,CAAcF,OAAO,CAACQ,OAAR,CAAgB,0BAAhB,CAAd,EAA2DV,aAAa,CAACW,IAAzE,CAAN;;AAEAV,MAAAA,GAAG,CAACW,KAAJ,CAAU,EAAE,QAAQ,MAAMJ,MAAM,CAACK,IAAP,EAAhB,EAAV,EAA2C,4BAA3C;AACAZ,MAAAA,GAAG,CAACW,KAAJ,CAAW,kCAAiC,MAAMJ,MAAM,CAACM,MAAP,CAAcC,KAAd,EAAsB,EAAxE;;AAED,KAPD,SAOU;AACR,YAAMP,MAAM,CAACQ,GAAP,EAAN;AACD;;AAEF,GAjBD,CAiBE,OAAOC,KAAP,EAAc;AACdC,IAAAA,OAAO,CAACD,KAAR,CAAcA,KAAd;AACD;;AAEF;;AAEDV,IAAI","sourcesContent":["import '@virtualpatterns/mablung-source-map-support/distributable/install.js'\nimport { WorkerClient } from '@virtualpatterns/mablung-worker'\n\nimport { Configuration } from './library/configuration.js'\nimport { Log } from './library/log.js'\n\nconst Require = __require\n\nasync function main() {\n\n  try {\n\n    let worker = new WorkerClient()\n\n    worker.writeTo('./process/log/main.log')\n\n    try {\n\n      await worker.import(Require.resolve('./library/worker/main.js'), Configuration.root)\n\n      Log.debug({ 'ping': await worker.ping() }, 'worker load average is ...')\n      Log.debug(`worker.module.getIt() returned ${await worker.module.getIt()}`)\n\n    } finally {\n      await worker.end()\n    }\n\n  } catch (error) {\n    console.error(error)\n  }\n\n}\n\nmain()"],"file":"index.js"}