{"version":3,"sources":["../../source/library/migration.js"],"names":["Path","Migration","BaseMigration","FilePath","_URL","fileURLToPath","import","meta","url","FolderPath","dirname","constructor","path","database","createMigration","name","normalize","templatePath","getMigration","parameter","Promise","all","getMigrationFromPath","flat","sort"],"mappings":"uBAAA,OAAOA,IAAP,MAAiB,MAAjB;AACA,SAASC,SAAS,IAAIC,aAAtB,QAA2C,2CAA3C;;AAEA,MAAMC,QAAQ,GAHdC,IAAI,CAACC,aAAL,CAAmBC,MAAM,CAACC,IAAP,CAAYC,GAA/B,CAGA;AACA,MAAMC,UAAU,GAAGT,IAAI,CAACU,OAAL,CAAaP,QAAb,CAAnB;;AAEA,MAAMF,SAAN,SAAwBC,aAAxB,CAAsC;;AAEpCS,EAAAA,WAAW,CAACC,IAAD,EAAOC,QAAP,EAAiB;AAC1B,UAAMD,IAAN,EAAYC,QAAZ;AACD;;AAED,SAAOC,eAAP,CAAuBC,IAAvB,EAA6BH,IAAI,GAAGZ,IAAI,CAACgB,SAAL,CAAgB,GAAEP,UAAW,iCAA7B,CAApC,EAAoGQ,YAAY,GAAGjB,IAAI,CAACgB,SAAL,CAAgB,GAAEP,UAAW,6CAA7B,CAAnH,EAA+L;AAC7L,WAAO,MAAMK,eAAN,CAAsBC,IAAtB,EAA4BH,IAA5B,EAAkCK,YAAlC,CAAP;AACD;;AAED,eAAaC,YAAb,CAA0B,GAAGC,SAA7B,EAAwC;AACtC,WAAO,CAAC,MAAMC,OAAO,CAACC,GAAR,CAAY,CAAE,MAAMH,YAAN,CAAmB,GAAGC,SAAtB,CAAF,EAAoC,MAAMG,oBAAN,CAA4B,GAAEb,UAAW,YAAzC,EAAsD,CAAE,MAAF,CAAtD,EAAkE,CAAE,aAAF,CAAlE,EAAqF,GAAGU,SAAxF,CAApC,CAAZ,CAAP,EAA8JI,IAA9J,GAAqKC,IAArK,EAAP;AACD,GAZmC;;;;AAgBtC,SAASvB,SAAT","sourcesContent":["import Path from 'path'\nimport { Migration as BaseMigration } from '@virtualpatterns/mablung-sqlite-migration'\n\nconst FilePath = __filePath\nconst FolderPath = Path.dirname(FilePath)\n\nclass Migration extends BaseMigration {\n\n  constructor(path, database) {\n    super(path, database)\n  }\n\n  static createMigration(name, path = Path.normalize(`${FolderPath}/../../source/library/migration`), templatePath = Path.normalize(`${FolderPath}/../../source/library/migration/template.js`)) {\n    return super.createMigration(name, path, templatePath)\n  }\n\n  static async getMigration(...parameter) {\n    return (await Promise.all([ super.getMigration(...parameter), super.getMigrationFromPath(`${FolderPath}/migration`, [ '*.js' ], [ 'template.js' ], ...parameter) ])).flat().sort()\n  }\n\n}\n\nexport { Migration }\n"],"file":"migration.js"}